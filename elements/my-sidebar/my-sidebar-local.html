<link rel="import" href="../../bower_components/mat-divider/mat-divider.html">
<link rel="import" href="../../bower_components/mat-subheader/mat-subheader.html">

<dom-module id="my-sidebar-local">
    <style>

    </style>
    <template>
        <paper-menu class="list" attr-for-selected="data-route" selected="{{route_selected}}" on-iron-select="onMenuSelect">

            <template is="dom-repeat" items="{{menu_data}}">
                <template is="dom-if" if="{{item.title}}">
                    <mat-divider></mat-divider>
                    <mat-subheader label="{{item.title}}"></mat-subheader>
                </template>
                <template is="dom-repeat" items="{{item.menuItems}}">


                    <a data-route$="{{item.dataRoute}}" href="{{item.href}}">
                        <iron-icon icon="{{item.icon}}"></iron-icon>
                        <span>{{item.label}}</span>
                    </a>

                </template>
            </template>
        </paper-menu>

    </template>

    <script>
        (function () {
            Polymer({
                is: 'my-sidebar-local',

                properties: {
                    route_selected: {
                        type: String,
                        value: null,
                        notify: true
                    },
                    menu_data: {
                        type: Object

                    }
                },

                ready: function () {
                    console.log("my-sidebar-local is ready");
                },
                onMenuSelect: function () {
                    var drawerPanel = document.querySelector('#paperDrawerPanel');
                    if (drawerPanel != null) {

                        if (drawerPanel.narrow != null) {
                            if (drawerPanel.narrow) {
                                drawerPanel.closeDrawer();
                            }
                        }
                    }
                }
            });
        })();
    </script>

</dom-module>
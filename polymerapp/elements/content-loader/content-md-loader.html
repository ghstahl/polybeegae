<link rel="import" href="../my-iron-ajax/my-iron-ajax.html">
<dom-module id="content-md-loader">
    <template>
        <my-iron-ajax id="myIronAjax" params="{{routeParams}}" handle-as="text" last-Response="{{ajaxResponse}}">
        </my-iron-ajax>

        <marked-element id="content"></marked-element>

    </template>
    <script>
        Polymer({
            is: "content-md-loader",
            properties: {
                ajaxResponse: {
                    type: Object,
                    observer: 'onAjaxResponse'
                },
                filePath: {
                    type: String,
                    observer: 'loadFile'
                },
                value: {
                    type: Object
                }
            },
            onAjaxResponse: function (path) {
                this.$.content.markdown = path;
            },
            loadFile: function (path) {
                if (this.filePath) {
                    this.$.myIronAjax.dataUrl = this.filePath;
                }
            }
        });
    </script>
</dom-module>